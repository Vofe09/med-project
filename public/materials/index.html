<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MED.UNIT — Материалы</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        /* Дополнительно: стиль карточек материалов */
        .material-card {
            width: 280px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(8px);
            border-radius: 20px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 6px 16px rgba(0,0,0,0.12);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .material-card:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.2);
        }

        .material-card img {
            width: 100%;
            height: auto;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 10px;
        }

        .category-btn.active {
            background-color: var(--blue-main);
            color: white;
        }

        nav a:nth-child(1) { animation-delay: 0.3s; }
        nav a:nth-child(2) { animation-delay: 0.45s; }
        nav a:nth-child(3) { animation-delay: 0.6s; }
        nav a:nth-child(4) { animation-delay: 0.75s; }
        nav a:nth-child(5) { animation-delay: 1.0s; }
    </style>
</head>
<body>

    <!-- ======= ХЕДЕР ======= -->
    <header>
        <nav>
            <a href="https://unit-med.vercel.app/" class="lighter">О нас</a>
            <a href="https://med-forum-2.vercel.app/forum">Форум</a>
            <a href="https://unit-med.vercel.app/conference/index.html">Конференции</a>
            <a href="https://unit-med.vercel.app/materials/index.html"> Материалы </a>
            <a href="https://unit-med.vercel.app/test/index.html"> Тесты </a>
        </nav>
    </header>

    <!-- ======= КАТЕГОРИИ МАТЕРИАЛОВ ======= -->
    <section class="materials-categories" style="margin-top: 120px; text-align: center;">
        <h1>Категории материалов</h1>
        <div class="categories-list" style="display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin-top:20px;">
            <button class="category-btn active">Все</button>
            <button class="category-btn">Учебно-методическое пособие</button>
            <button class="category-btn">Статьи</button>
            <button class="category-btn">Учебники</button>
        </div>
    </section>

    <!-- ======= КАРТОЧКИ МАТЕРИАЛОВ ======= -->
    <section class="materials-cards" style="width:90%; max-width:1200px; margin:40px auto; display:flex; flex-wrap:wrap; gap:20px; justify-content:center;">
        <!-- JS сюда динамически добавит карточки -->
    </section>

    <!-- ======= ФУТЕР ======= -->
    <footer class="footer">
        <p>MED.UNIT — пространство, где будущие и действующие медики объединяются в один коллектив.</p>
    </footer>

    <!-- ======= JS ДИНАМИЧЕСКИЕ КАРТОЧКИ ======= -->

    <script>
    const cardsContainer = document.querySelector('.materials-cards');
    let allMaterials = [];

    // Загружаем данные из JSON
    fetch('materials.json')
    .then(res => res.json())
    .then(data => {
        allMaterials = data;
        displayCards(allMaterials);
    });

    // Создание карточки
    function createCard(material) {
        const card = document.createElement('div');
        card.className = 'material-card';
        card.dataset.category = material.category;
        card.innerHTML = `
            <img src="${material.image}" alt="${material.name}">
            <h2>${material.name}</h2>
            <p>Автор: ${material.author}</p>
            <p>Дата: ${material.date}</p>
        `;

        // Клик открывает страницу детального материала
        card.addEventListener('click', () => {
            window.location.href = `material-detail.html?id=${material.id}`;
        });

        return card;
    }

    // Отображение карточек
    function displayCards(materials) {
        cardsContainer.innerHTML = '';
        materials.forEach(material => {
            const card = createCard(material);
            cardsContainer.appendChild(card);
        });
    }

    // Фильтрация по категориям
    const buttons = document.querySelectorAll('.category-btn');
    buttons.forEach(btn => {
        btn.addEventListener('click', () => {
            const category = btn.textContent;
            buttons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            if (category === "Все") {
                displayCards(allMaterials);
            } else {
                displayCards(allMaterials.filter(mat => mat.category === category));
            }
        });
    });
    </script>
</body>
</html>
